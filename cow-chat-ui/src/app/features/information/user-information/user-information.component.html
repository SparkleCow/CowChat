<div class="settings-container">

  <header>
    <button class="back-button" (click)="redirectAtChatPage()">
      <i class="fa-solid fa-arrow-left"></i>
    </button>
    <h3>Regresa a tus chats</h3>
  </header>

  <div class="profile-section">
    <label class="image-wrapper" for="fileInput">
      <img
        [src]="previewUrl"
        alt="Imagen de perfil"
      >
      <div class="overlay">
        <span>Cambiar</span>
      </div>
    </label>
    <input id="fileInput" type="file" accept="image/*" (change)="onFileSelected($event)" hidden>
    <button class="button" (click)="uploadImage()" [disabled]="!selectedFile || isLoading">
      {{ isLoading ? 'Subiendo...' : 'Subir imagen' }}
    </button>
  </div>

  <form [formGroup]="form" (ngSubmit)="updateUsername()">
    <label>Nombre de usuario</label>
    <input type="text" formControlName="username">
    <button class="button" type="submit" [disabled]="form.invalid || isLoading">
      {{ isLoading ? 'Actualizando...' : 'Guardar cambios' }}
    </button>
  </form>
</div>
